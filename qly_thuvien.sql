-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Máy chủ: 127.0.0.1
-- Thời gian đã tạo: Th5 24, 2025 lúc 12:01 PM
-- Phiên bản máy phục vụ: 10.4.32-MariaDB
-- Phiên bản PHP: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Cơ sở dữ liệu: `qly_thuvien`
--

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `chitiethoadon`
--

CREATE TABLE `chitiethoadon` (
  `MaHoaDon` varchar(10) NOT NULL,
  `userID` int(11) NOT NULL,
  `MaSach` varchar(10) NOT NULL,
  `TenSach` varchar(100) NOT NULL,
  `SoLuong` int(11) NOT NULL,
  `GiaDatCoc` decimal(10,2) NOT NULL,
  `GiaThue` decimal(10,2) NOT NULL,
  `GiaBan` decimal(10,2) DEFAULT NULL,
  `TongTien` decimal(10,2) NOT NULL,
  `TrangThai` varchar(20) NOT NULL DEFAULT 'Chưa trả'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `chitiethoadon`
--

INSERT INTO `chitiethoadon` (`MaHoaDon`, `userID`, `MaSach`, `TenSach`, `SoLuong`, `GiaDatCoc`, `GiaThue`, `GiaBan`, `TongTien`, `TrangThai`) VALUES
('HD017', 1, 'S021', 'Học máy cơ bản', 1, 0.00, 6500.00, 180000.00, 6500.00, 'Đã mua'),
('HD021', 1, 'S021', 'Học máy cơ bản', 1, 0.00, 6500.00, 180000.00, 180000.00, 'Đã mua'),
('HD023', 1, 'S008', 'Clean Code', 2, 100000.00, 7000.00, 200000.00, 14000.00, 'Chưa trả'),
('HD024', 1, 'S008', 'Clean Code', 2, 100000.00, 7000.00, 200000.00, 14000.00, 'Chưa trả'),
('HD025', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD026', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 170000.00, 'Chưa trả'),
('HD027', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 340000.00, 'Chưa trả'),
('HD028', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 12000.00, 'Chưa trả'),
('HD029', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 12000.00, 'Chưa trả'),
('HD030', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD031', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 12000.00, 'Chưa trả'),
('HD032', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 170000.00, 'Chưa trả'),
('HD033', 1, 'S015', 'Học lập trình Java', 4, 85000.00, 6000.00, 170000.00, 24000.00, 'Chưa trả'),
('HD034', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 182000.00, 'Chưa trả'),
('HD035', 1, 'S021', 'Học máy cơ bản', 2, 90000.00, 6500.00, 180000.00, 193000.00, 'Chưa trả'),
('HD035', 1, 'S002', 'Toán cao cấp Tập 1', 1, 60000.00, 3000.00, 120000.00, 120000.00, 'Chưa trả'),
('HD036', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 170000.00, 'Chưa trả'),
('HD037', 1, 'S008', 'Clean Code', 1, 100000.00, 7000.00, 200000.00, 200000.00, 'Chưa trả'),
('HD038', 1, 'S021', 'Học máy cơ bản', 1, 90000.00, 6500.00, 180000.00, 180000.00, 'Chưa trả'),
('HD039', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 170000.00, 'Chưa trả'),
('HD040', 1, 'S001', 'Lập trình Python cơ bản', 2, 75000.00, 5000.00, 150000.00, 160000.00, 'Chưa trả'),
('HD041', 1, 'S026', 'Thiết kế UI/UX', 1, 95000.00, 7000.00, 190000.00, 190000.00, 'Chưa trả'),
('HD061', 1, 'S017', 'Tôi thấy hoa vàng trên cỏ xanh', 1, 60000.00, 3500.00, 120000.00, 120000.00, 'Chưa trả'),
('HD062', 1, 'S004', 'Nhật ký trong tù', 5, 40000.00, 2000.00, 80000.00, 400000.00, 'Chưa trả'),
('HD063', 1, 'S001', 'Lập trình Python cơ bản', 1, 0.00, 0.00, 150000.00, 150000.00, 'Đã mua'),
('HD075', 1, 'S003', 'Harry Potter và Hòn đá Phù thủy', 10, 125000.00, 10000.00, 250000.00, 100000.00, 'Chưa trả'),
('HD076', 1, 'S021', 'Học máy cơ bản', 2, 90000.00, 6500.00, 180000.00, 13000.00, 'Chưa trả'),
('HD081', 1, 'S026', 'Thiết kế UI/UX', 2, 95000.00, 7000.00, 190000.00, 14000.00, 'Chưa trả'),
('HD086', 1, 'S013', 'Truyện Kiều', 1, 37500.00, 2000.00, 75000.00, 2000.00, 'Chưa trả'),
('HD091', 1, 'S002', 'Toán cao cấp Tập 1', 1, 60000.00, 3000.00, 120000.00, 3000.00, 'Chưa trả'),
('HD096', 1, 'S009', '1984', 1, 90000.00, 8000.00, 180000.00, 180000.00, 'Chưa trả'),
('HD101', 1, 'S017', 'Tôi thấy hoa vàng trên cỏ xanh', 2, 60000.00, 3500.00, 120000.00, 7000.00, 'Chưa trả'),
('HD106', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 12000.00, 'Chưa trả'),
('HD111', 1, 'S012', 'Bí mật tư duy triệu phú', 1, 70000.00, 4500.00, 140000.00, 4500.00, 'Chưa trả'),
('HD116', 1, 'S008', 'Clean Code', 1, 100000.00, 7000.00, 200000.00, 7000.00, 'Chưa trả'),
('HD121', 1, 'S003', 'Harry Potter và Hòn đá Phù thủy', 2, 125000.00, 10000.00, 250000.00, 20000.00, 'Chưa trả'),
('HD126', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD131', 1, 'S004', 'Nhật ký trong tù', 1, 40000.00, 2000.00, 80000.00, 80000.00, 'Chưa trả'),
('HD136', 1, 'S011', 'Đắc nhân tâm', 2, 55000.00, 3500.00, 110000.00, 7000.00, 'Chưa trả'),
('HD141', 1, 'S021', 'Học máy cơ bản', 1, 90000.00, 6500.00, 180000.00, 6500.00, 'Chưa trả'),
('HD146', 1, 'S026', 'Thiết kế UI/UX', 1, 95000.00, 7000.00, 190000.00, 190000.00, 'Chưa trả'),
('HD151', 1, 'S013', 'Truyện Kiều', 1, 37500.00, 2000.00, 75000.00, 75000.00, 'Chưa trả'),
('HD156', 1, 'S002', 'Toán cao cấp Tập 1', 2, 60000.00, 3000.00, 120000.00, 6000.00, 'Chưa trả'),
('HD161', 1, 'S009', '1984', 1, 90000.00, 8000.00, 180000.00, 8000.00, 'Chưa trả'),
('HD166', 1, 'S017', 'Tôi thấy hoa vàng trên cỏ xanh', 1, 60000.00, 3500.00, 120000.00, 120000.00, 'Chưa trả'),
('HD171', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 170000.00, 'Chưa trả'),
('HD176', 1, 'S012', 'Bí mật tư duy triệu phú', 2, 70000.00, 4500.00, 140000.00, 9000.00, 'Chưa trả'),
('HD181', 1, 'S008', 'Clean Code', 1, 100000.00, 7000.00, 200000.00, 7000.00, 'Chưa trả'),
('HD186', 1, 'S003', 'Harry Potter và Hòn đá Phù thủy', 1, 125000.00, 10000.00, 250000.00, 250000.00, 'Chưa trả'),
('HD191', 1, 'S015', 'Học lập trình Java', 3, 85000.00, 6000.00, 170000.00, 18000.00, 'Chưa trả'),
('HD196', 1, 'S004', 'Nhật ký trong tù', 2, 40000.00, 2000.00, 80000.00, 4000.00, 'Chưa trả'),
('HD201', 1, 'S011', 'Đắc nhân tâm', 1, 55000.00, 3500.00, 110000.00, 3500.00, 'Chưa trả'),
('HD206', 1, 'S021', 'Học máy cơ bản', 1, 90000.00, 6500.00, 180000.00, 180000.00, 'Chưa trả'),
('HD211', 1, 'S026', 'Thiết kế UI/UX', 1, 95000.00, 7000.00, 190000.00, 7000.00, 'Chưa trả'),
('HD216', 1, 'S013', 'Truyện Kiều', 1, 37500.00, 2000.00, 75000.00, 2000.00, 'Chưa trả'),
('HD221', 1, 'S002', 'Toán cao cấp Tập 1', 1, 60000.00, 3000.00, 120000.00, 3000.00, 'Chưa trả'),
('HD226', 1, 'S009', '1984', 1, 90000.00, 8000.00, 180000.00, 180000.00, 'Chưa trả'),
('HD231', 1, 'S017', 'Tôi thấy hoa vàng trên cỏ xanh', 2, 60000.00, 3500.00, 120000.00, 7000.00, 'Chưa trả'),
('HD236', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 12000.00, 'Chưa trả'),
('HD241', 1, 'S012', 'Bí mật tư duy triệu phú', 1, 70000.00, 4500.00, 140000.00, 140000.00, 'Chưa trả'),
('HD246', 1, 'S008', 'Clean Code', 2, 100000.00, 7000.00, 200000.00, 14000.00, 'Chưa trả'),
('HD251', 1, 'S003', 'Harry Potter và Hòn đá Phù thủy', 2, 125000.00, 10000.00, 250000.00, 20000.00, 'Chưa trả'),
('HD256', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD261', 1, 'S004', 'Nhật ký trong tù', 1, 40000.00, 2000.00, 80000.00, 80000.00, 'Chưa trả'),
('HD266', 1, 'S011', 'Đắc nhân tâm', 2, 55000.00, 3500.00, 110000.00, 7000.00, 'Chưa trả'),
('HD271', 1, 'S021', 'Học máy cơ bản', 1, 90000.00, 6500.00, 180000.00, 6500.00, 'Chưa trả'),
('HD276', 1, 'S026', 'Thiết kế UI/UX', 1, 95000.00, 7000.00, 190000.00, 190000.00, 'Chưa trả'),
('HD281', 1, 'S015', 'Học lập trình Java', 2, 85000.00, 6000.00, 170000.00, 12000.00, 'Chưa trả'),
('HD281', 1, 'S013', 'Truyện Kiều', 1, 37500.00, 2000.00, 75000.00, 75000.00, 'Đã trả'),
('HD286', 1, 'S012', 'Bí mật tư duy triệu phú', 2, 70000.00, 4500.00, 140000.00, 9000.00, 'Chưa trả'),
('HD291', 1, 'S008', 'Clean Code', 2, 100000.00, 7000.00, 200000.00, 14000.00, 'Chưa trả'),
('HD296', 1, 'S003', 'Harry Potter và Hòn đá Phù thủy', 2, 125000.00, 10000.00, 250000.00, 20000.00, 'Chưa trả'),
('HD301', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD306', 1, 'S004', 'Nhật ký trong tù', 1, 40000.00, 2000.00, 80000.00, 80000.00, 'Đã trả'),
('HD311', 1, 'S011', 'Đắc nhân tâm', 2, 55000.00, 3500.00, 110000.00, 7000.00, 'Chưa trả'),
('HD316', 1, 'S021', 'Học máy cơ bản', 1, 90000.00, 6500.00, 180000.00, 6500.00, 'Chưa trả'),
('HD321', 1, 'S026', 'Thiết kế UI/UX', 1, 95000.00, 7000.00, 190000.00, 190000.00, 'Đã trả'),
('HD326', 1, 'S013', 'Truyện Kiều', 1, 37500.00, 2000.00, 75000.00, 75000.00, 'Đã trả'),
('HD331', 1, 'S002', 'Toán cao cấp Tập 1', 2, 60000.00, 3000.00, 120000.00, 6000.00, 'Chưa trả'),
('HD336', 1, 'S009', '1984', 1, 90000.00, 8000.00, 180000.00, 8000.00, 'Chưa trả'),
('HD341', 1, 'S017', 'Tôi thấy hoa vàng trên cỏ xanh', 1, 60000.00, 3500.00, 120000.00, 120000.00, 'Đã trả'),
('HD346', 1, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 170000.00, 'Đã trả'),
('HD351', 1, 'S012', 'Bí mật tư duy triệu phú', 2, 70000.00, 4500.00, 140000.00, 9000.00, 'Chưa trả'),
('HD356', 1, 'S008', 'Clean Code', 1, 100000.00, 7000.00, 200000.00, 7000.00, 'Chưa trả'),
('HD361', 1, 'S003', 'Harry Potter và Hòn đá Phù thủy', 1, 125000.00, 10000.00, 250000.00, 250000.00, 'Đã trả'),
('HD366', 1, 'S015', 'Học lập trình Java', 3, 85000.00, 6000.00, 170000.00, 18000.00, 'Chưa trả'),
('HD371', 1, 'S004', 'Nhật ký trong tù', 2, 40000.00, 2000.00, 80000.00, 4000.00, 'Chưa trả'),
('HD376', 1, 'S011', 'Đắc nhân tâm', 1, 55000.00, 3500.00, 110000.00, 3500.00, 'Chưa trả'),
('HD381', 1, 'S021', 'Học máy cơ bản', 1, 90000.00, 6500.00, 180000.00, 180000.00, 'Đã trả'),
('HD386', 1, 'S026', 'Thiết kế UI/UX', 1, 95000.00, 7000.00, 190000.00, 7000.00, 'Chưa trả'),
('HD391', 1, 'S013', 'Truyện Kiều', 1, 37500.00, 2000.00, 75000.00, 2000.00, 'Chưa trả'),
('HD396', 1, 'S002', 'Toán cao cấp Tập 1', 1, 60000.00, 3000.00, 120000.00, 3000.00, 'Chưa trả'),
('HD501', 1, 'S008', 'Clean Code', 2, 100000.00, 7000.00, 200000.00, 14000.00, 'Chưa trả'),
('HD501', 1, 'S015', 'Học lập trình Java', 2, 0.00, 0.00, 170000.00, 340000.00, 'Đã mua'),
('HD502', 17, 'S041', 'Lập trình Web với PHP', 1, 90000.00, 6000.00, 180000.00, 6000.00, 'Chưa trả'),
('HD503', 18, 'S042', 'Hóa học đại cương', 1, 60000.00, 3500.00, 120000.00, 3500.00, 'Chưa trả'),
('HD504', 19, 'S043', 'Harry Potter và Phòng chứa Bí mật', 1, 130000.00, 10000.00, 260000.00, 10000.00, 'Chưa trả'),
('HD505', 20, 'S044', 'Đường Kách Mệnh', 2, 45000.00, 2500.00, 90000.00, 5000.00, 'Chưa trả'),
('HD506', 21, 'S045', 'Cậu bé Mít Đặc', 1, 30000.00, 1500.00, 60000.00, 1500.00, 'Chưa trả'),
('HD507', 22, 'S046', 'Chí Phèo', 1, 50000.00, 3000.00, 100000.00, 3000.00, 'Chưa trả'),
('HD508', 23, 'S047', 'Sapiens', 1, 100000.00, 7000.00, 200000.00, 7000.00, 'Chưa trả'),
('HD509', 24, 'S048', 'Học lập trình C#', 1, 95000.00, 6500.00, 190000.00, 6500.00, 'Chưa trả'),
('HD510', 15, 'S049', 'Dune', 1, 110000.00, 8000.00, 220000.00, 8000.00, 'Chưa trả'),
('HD511', 16, 'S050', 'Tự học PowerPoint', 2, 70000.00, 4000.00, 140000.00, 8000.00, 'Chưa trả'),
('HD512', 17, 'S051', 'Nghệ thuật giao tiếp', 1, 75000.00, 4500.00, 150000.00, 4500.00, 'Chưa trả'),
('HD513', 18, 'S052', 'Chiến lược kinh doanh', 1, 90000.00, 6000.00, 180000.00, 6000.00, 'Chưa trả'),
('HD514', 19, 'S053', 'Lục Vân Tiên', 2, 40000.00, 2000.00, 80000.00, 4000.00, 'Chưa trả'),
('HD515', 20, 'S054', 'Con mèo đi học', 1, 35000.00, 1500.00, 70000.00, 1500.00, 'Chưa trả'),
('HD516', 21, 'S055', 'Học lập trình Go', 1, 100000.00, 7000.00, 200000.00, 7000.00, 'Chưa trả'),
('HD517', 22, 'S056', 'Sinh học đại cương', 1, 65000.00, 4000.00, 130000.00, 4000.00, 'Chưa trả'),
('HD518', 23, 'S057', 'The Hobbit', 1, 120000.00, 9000.00, 240000.00, 9000.00, 'Chưa trả'),
('HD519', 24, 'S058', 'Kỹ năng quản lý thời gian', 2, 80000.00, 5000.00, 160000.00, 10000.00, 'Chưa trả'),
('HD520', 15, 'S059', 'Lịch sử Trung Quốc', 1, 75000.00, 4500.00, 150000.00, 4500.00, 'Chưa trả'),
('HD521', 16, 'S060', 'One Piece Tập 1', 1, 50000.00, 3000.00, 100000.00, 3000.00, 'Chưa trả'),
('HD522', 17, 'S001', 'Lập trình Python cơ bản', 1, 0.00, 0.00, 150000.00, 150000.00, 'Đã mua'),
('HD523', 18, 'S002', 'Toán cao cấp Tập 1', 1, 0.00, 0.00, 120000.00, 120000.00, 'Đã mua'),
('HD524', 19, 'S003', 'Harry Potter và Hòn đá Phù thủy', 1, 125000.00, 10000.00, 250000.00, 10000.00, 'Chưa trả'),
('HD525', 20, 'S004', 'Nhật ký trong tù', 2, 40000.00, 2000.00, 80000.00, 4000.00, 'Chưa trả'),
('HD526', 21, 'S005', 'Dế Mèn phiêu lưu ký', 1, 30000.00, 1500.00, 60000.00, 1500.00, 'Chưa trả'),
('HD527', 22, 'S006', 'Tắt đèn', 1, 45000.00, 2500.00, 90000.00, 2500.00, 'Chưa trả'),
('HD528', 23, 'S007', 'Số đỏ', 1, 50000.00, 3000.00, 100000.00, 3000.00, 'Chưa trả'),
('HD529', 24, 'S008', 'Clean Code', 2, 100000.00, 7000.00, 200000.00, 14000.00, 'Chưa trả'),
('HD530', 15, 'S009', '1984', 1, 90000.00, 8000.00, 180000.00, 8000.00, 'Chưa trả'),
('HD531', 16, 'S010', 'Tự học Excel', 1, 65000.00, 4000.00, 130000.00, 4000.00, 'Chưa trả'),
('HD532', 17, 'S011', 'Đắc nhân tâm', 2, 55000.00, 3500.00, 110000.00, 7000.00, 'Chưa trả'),
('HD533', 18, 'S012', 'Bí mật tư duy triệu phú', 1, 70000.00, 4500.00, 140000.00, 4500.00, 'Chưa trả'),
('HD534', 19, 'S013', 'Truyện Kiều', 1, 37500.00, 2000.00, 75000.00, 2000.00, 'Chưa trả'),
('HD535', 20, 'S014', 'Cây khế nhà tôi', 2, 25000.00, 1500.00, 50000.00, 3000.00, 'Chưa trả'),
('HD536', 21, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD537', 22, 'S016', 'Nhật ký Đặng Thùy Trâm', 1, 47500.00, 3000.00, 95000.00, 3000.00, 'Chưa trả'),
('HD538', 23, 'S017', 'Tôi thấy hoa vàng trên cỏ xanh', 1, 60000.00, 3500.00, 120000.00, 3500.00, 'Chưa trả'),
('HD539', 24, 'S018', 'Atomic Habits', 2, 80000.00, 5000.00, 160000.00, 10000.00, 'Chưa trả'),
('HD540', 15, 'S019', 'Lịch sử Việt Nam', 1, 65000.00, 4000.00, 130000.00, 4000.00, 'Chưa trả'),
('HD541', 16, 'S020', 'Doraemon Tập 1', 1, 35000.00, 2000.00, 70000.00, 2000.00, 'Chưa trả'),
('HD542', 17, 'S021', 'Học máy cơ bản', 1, 0.00, 0.00, 180000.00, 180000.00, 'Đã mua'),
('HD543', 18, 'S022', 'Vật lý đại cương', 1, 55000.00, 3500.00, 110000.00, 3500.00, 'Chưa trả'),
('HD544', 19, 'S023', 'Bố già', 2, 70000.00, 4500.00, 140000.00, 9000.00, 'Chưa trả'),
('HD545', 20, 'S024', 'Truyện ngắn Nam Cao', 1, 42500.00, 2500.00, 85000.00, 2500.00, 'Chưa trả'),
('HD546', 21, 'S025', 'Bé tập vẽ', 1, 22500.00, 1000.00, 45000.00, 1000.00, 'Chưa trả'),
('HD547', 22, 'S026', 'Thiết kế UI/UX', 1, 95000.00, 7000.00, 190000.00, 7000.00, 'Chưa trả'),
('HD548', 23, 'S027', 'Kafka bên bờ biển', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD549', 24, 'S028', 'Tư duy nhanh và chậm', 2, 75000.00, 5000.00, 150000.00, 10000.00, 'Chưa trả'),
('HD550', 15, 'S029', 'Lịch sử thế giới', 1, 67500.00, 4000.00, 135000.00, 4000.00, 'Chưa trả'),
('HD551', 16, 'S030', 'Dragon Ball Tập 1', 1, 40000.00, 2500.00, 80000.00, 2500.00, 'Chưa trả'),
('HD552', 10, 'S008', 'Clean Code', 1, 0.00, 0.00, 200000.00, 200000.00, 'Đã mua'),
('HD552', 10, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD552', 10, 'S021', 'Học máy cơ bản', 1, 90000.00, 6500.00, 180000.00, 6500.00, 'Chưa trả'),
('HD553', 10, 'S015', 'Học lập trình Java', 1, 85000.00, 6000.00, 170000.00, 6000.00, 'Chưa trả'),
('HD553', 10, 'S001', 'Lập trình Python cơ bản', 1, 0.00, 0.00, 150000.00, 150000.00, 'Đã mua');

--
-- Bẫy `chitiethoadon`
--
DELIMITER $$
CREATE TRIGGER `before_insert_chitiethoadon` BEFORE INSERT ON `chitiethoadon` FOR EACH ROW BEGIN
    IF NEW.GiaDatCoc = 0 THEN
        SET NEW.TrangThai = 'Đã mua';
    END IF;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `before_update_chitiethoadon` BEFORE UPDATE ON `chitiethoadon` FOR EACH ROW BEGIN
    IF NEW.GiaDatCoc = 0 THEN
        SET NEW.TrangThai = 'Đã mua';
    END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `hoadon`
--

CREATE TABLE `hoadon` (
  `MaHoaDon` varchar(10) NOT NULL,
  `userID` int(11) NOT NULL,
  `NgayTao` datetime NOT NULL DEFAULT current_timestamp(),
  `TongTien` decimal(10,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `hoadon`
--

INSERT INTO `hoadon` (`MaHoaDon`, `userID`, `NgayTao`, `TongTien`) VALUES
('HD006', 1, '2025-05-03 05:58:04', 0.00),
('HD007', 1, '2025-05-03 06:01:13', 0.00),
('HD008', 1, '2025-05-03 06:35:42', 0.00),
('HD009', 1, '2025-05-03 06:36:08', 0.00),
('HD010', 1, '2025-05-03 06:36:53', 0.00),
('HD011', 1, '2025-05-03 06:37:02', 0.00),
('HD012', 1, '2025-05-03 10:03:45', 0.00),
('HD013', 1, '2025-05-03 10:10:09', 0.00),
('HD014', 1, '2025-05-03 11:08:04', 0.00),
('HD015', 1, '2025-05-03 11:12:53', 0.00),
('HD016', 1, '2025-05-03 11:23:51', 0.00),
('HD017', 1, '2025-05-03 14:27:37', 6500.00),
('HD018', 1, '2025-05-03 14:32:25', 0.00),
('HD019', 1, '2025-05-03 14:32:43', 0.00),
('HD020', 1, '2025-05-03 14:33:03', 0.00),
('HD021', 1, '2025-05-03 14:33:21', 180000.00),
('HD022', 1, '2025-05-03 15:00:49', 0.00),
('HD023', 1, '2025-05-03 15:08:57', 214000.00),
('HD024', 1, '2025-05-03 15:10:49', 214000.00),
('HD025', 1, '2025-05-03 15:11:29', 91000.00),
('HD026', 1, '2025-05-03 15:11:44', 170000.00),
('HD027', 1, '2025-05-03 15:11:54', 340000.00),
('HD028', 1, '2025-05-03 15:12:08', 182000.00),
('HD029', 1, '2025-05-03 15:12:41', 182000.00),
('HD030', 1, '2025-05-03 15:13:21', 91000.00),
('HD031', 1, '2025-05-03 15:22:06', 182000.00),
('HD032', 1, '2025-05-03 15:23:17', 170000.00),
('HD033', 1, '2025-05-03 15:27:34', 364000.00),
('HD034', 1, '2025-05-03 15:30:49', 182000.00),
('HD035', 1, '2025-05-03 15:31:38', 313000.00),
('HD036', 1, '2025-05-03 16:05:40', 170000.00),
('HD037', 1, '2025-05-04 03:14:27', 200000.00),
('HD038', 1, '2025-05-04 03:16:28', 180000.00),
('HD039', 1, '2025-05-04 03:18:33', 170000.00),
('HD040', 1, '2025-05-04 03:19:15', 160000.00),
('HD041', 1, '2025-05-04 03:25:40', 190000.00),
('HD061', 1, '2025-05-04 05:10:34', 120000.00),
('HD062', 1, '2025-05-04 05:11:20', 400000.00),
('HD063', 1, '2025-05-04 05:13:27', 150000.00),
('HD075', 1, '2025-05-04 09:21:30', 1350000.00),
('HD076', 2, '2025-01-11 10:40:52', 0.00),
('HD080', 1, '2025-01-15 13:55:38', 0.00),
('HD081', 2, '2025-01-16 16:05:49', 0.00),
('HD085', 1, '2025-01-20 14:45:55', 0.00),
('HD086', 2, '2025-01-21 09:55:06', 0.00),
('HD090', 1, '2025-01-25 08:35:50', 0.00),
('HD091', 2, '2025-01-26 10:45:01', 0.00),
('HD095', 1, '2025-01-30 08:25:45', 0.00),
('HD096', 2, '2025-01-31 10:35:56', 0.00),
('HD100', 1, '2025-02-04 11:15:40', 0.00),
('HD101', 2, '2025-02-05 13:25:51', 0.00),
('HD105', 1, '2025-02-09 12:05:35', 0.00),
('HD106', 2, '2025-02-10 14:15:46', 0.00),
('HD110', 1, '2025-02-14 12:55:30', 0.00),
('HD111', 2, '2025-02-15 14:05:41', 0.00),
('HD115', 1, '2025-02-19 12:45:25', 0.00),
('HD116', 2, '2025-02-20 14:55:36', 0.00),
('HD120', 1, '2025-02-24 15:35:20', 0.00),
('HD121', 2, '2025-02-25 08:45:31', 0.00),
('HD125', 1, '2025-03-01 16:25:15', 0.00),
('HD126', 2, '2025-03-02 08:35:26', 0.00),
('HD130', 1, '2025-03-06 16:15:10', 0.00),
('HD131', 2, '2025-03-07 08:25:21', 0.00),
('HD135', 1, '2025-03-11 09:05:05', 0.00),
('HD136', 2, '2025-03-12 11:15:16', 0.00),
('HD140', 1, '2025-03-16 10:55:00', 0.00),
('HD141', 2, '2025-03-17 12:05:11', 0.00),
('HD145', 1, '2025-03-21 10:45:55', 0.00),
('HD146', 2, '2025-03-22 12:55:06', 0.00),
('HD150', 1, '2025-03-26 10:35:50', 0.00),
('HD151', 2, '2025-03-27 12:45:01', 0.00),
('HD155', 1, '2025-03-31 13:25:45', 0.00),
('HD156', 2, '2025-04-01 15:35:56', 0.00),
('HD160', 1, '2025-04-05 14:15:40', 0.00),
('HD161', 2, '2025-04-06 16:25:51', 0.00),
('HD165', 1, '2025-04-10 14:05:35', 0.00),
('HD166', 2, '2025-04-11 16:15:46', 0.00),
('HD170', 1, '2025-04-15 14:55:30', 0.00),
('HD171', 2, '2025-04-16 09:05:41', 0.00),
('HD175', 1, '2025-04-20 08:45:25', 0.00),
('HD176', 2, '2025-04-21 10:55:36', 0.00),
('HD180', 1, '2025-04-25 08:35:20', 0.00),
('HD181', 2, '2025-04-26 10:45:31', 0.00),
('HD185', 1, '2025-04-30 08:25:15', 0.00),
('HD186', 2, '2025-05-01 10:35:26', 0.00),
('HD190', 1, '2025-05-05 11:15:10', 0.00),
('HD191', 2, '2025-05-06 13:25:21', 0.00),
('HD195', 1, '2025-05-10 12:05:05', 0.00),
('HD196', 2, '2025-05-11 14:15:16', 0.00),
('HD200', 1, '2025-05-15 12:55:00', 0.00),
('HD201', 2, '2025-05-16 14:05:11', 0.00),
('HD205', 1, '2025-05-20 12:45:55', 0.00),
('HD206', 2, '2025-05-21 14:55:06', 0.00),
('HD210', 1, '2025-05-25 15:35:50', 0.00),
('HD211', 2, '2025-05-26 08:45:01', 0.00),
('HD215', 1, '2025-05-30 16:25:45', 0.00),
('HD216', 2, '2025-05-31 08:35:56', 0.00),
('HD220', 1, '2025-01-04 16:15:40', 0.00),
('HD221', 2, '2025-01-05 08:25:51', 0.00),
('HD225', 1, '2025-01-09 09:05:35', 0.00),
('HD226', 2, '2025-01-10 11:15:46', 0.00),
('HD230', 1, '2025-01-14 10:55:30', 0.00),
('HD231', 2, '2025-01-15 12:05:41', 0.00),
('HD235', 1, '2025-01-19 10:45:25', 0.00),
('HD236', 2, '2025-01-20 12:55:36', 0.00),
('HD240', 1, '2025-01-24 10:35:20', 0.00),
('HD241', 2, '2025-01-25 12:45:31', 0.00),
('HD245', 1, '2025-01-29 13:25:15', 0.00),
('HD246', 2, '2025-01-30 15:35:26', 0.00),
('HD250', 1, '2025-02-03 14:15:10', 0.00),
('HD251', 2, '2025-02-04 16:25:21', 0.00),
('HD255', 1, '2025-02-08 14:05:05', 0.00),
('HD256', 2, '2025-02-09 16:15:16', 0.00),
('HD260', 1, '2025-02-13 14:55:00', 0.00),
('HD261', 2, '2025-02-14 09:05:11', 0.00),
('HD265', 1, '2025-02-18 08:45:55', 0.00),
('HD266', 2, '2025-02-19 10:55:06', 0.00),
('HD270', 1, '2025-02-23 08:35:50', 0.00),
('HD271', 2, '2025-02-24 10:45:01', 0.00),
('HD275', 1, '2025-02-28 08:25:45', 0.00),
('HD276', 2, '2025-03-01 10:35:56', 0.00),
('HD280', 1, '2025-03-05 11:15:40', 0.00),
('HD281', 2, '2025-03-06 13:25:51', 0.00),
('HD285', 1, '2025-03-10 12:05:35', 0.00),
('HD286', 2, '2025-03-11 14:15:46', 0.00),
('HD290', 1, '2025-03-15 12:55:30', 0.00),
('HD291', 2, '2025-03-16 14:05:41', 0.00),
('HD295', 1, '2025-03-20 12:45:25', 0.00),
('HD296', 2, '2025-03-21 14:55:36', 0.00),
('HD300', 1, '2025-03-25 15:35:20', 0.00),
('HD301', 2, '2025-03-26 08:45:31', 0.00),
('HD305', 1, '2025-03-30 16:25:15', 0.00),
('HD306', 2, '2025-03-31 08:35:26', 0.00),
('HD310', 1, '2025-04-04 16:15:10', 0.00),
('HD311', 2, '2025-04-05 08:25:21', 0.00),
('HD315', 1, '2025-04-09 09:05:05', 0.00),
('HD316', 2, '2025-04-10 11:15:16', 0.00),
('HD320', 1, '2025-04-14 10:55:00', 0.00),
('HD321', 2, '2025-04-15 12:05:11', 0.00),
('HD325', 1, '2025-04-19 10:45:55', 0.00),
('HD326', 2, '2025-04-20 12:55:06', 0.00),
('HD330', 1, '2025-04-24 10:35:50', 0.00),
('HD331', 2, '2025-04-25 12:45:01', 0.00),
('HD335', 1, '2025-04-29 13:25:15', 0.00),
('HD336', 2, '2025-04-30 15:35:26', 0.00),
('HD340', 1, '2025-05-04 14:15:10', 0.00),
('HD341', 2, '2025-05-05 16:25:21', 0.00),
('HD345', 1, '2025-05-09 14:05:05', 0.00),
('HD346', 2, '2025-05-10 16:15:16', 0.00),
('HD350', 1, '2025-05-14 14:55:00', 0.00),
('HD351', 2, '2025-05-15 09:05:11', 0.00),
('HD355', 1, '2025-05-19 08:45:55', 0.00),
('HD356', 2, '2025-05-20 10:55:06', 0.00),
('HD360', 1, '2025-05-24 08:35:50', 0.00),
('HD361', 2, '2025-05-25 10:45:01', 0.00),
('HD365', 1, '2025-05-29 08:25:45', 0.00),
('HD366', 2, '2025-05-30 10:35:56', 0.00),
('HD370', 1, '2025-01-03 11:15:40', 0.00),
('HD371', 2, '2025-01-04 13:25:51', 0.00),
('HD375', 1, '2025-01-08 12:05:35', 0.00),
('HD376', 2, '2025-01-09 14:15:46', 0.00),
('HD380', 1, '2025-01-13 12:55:30', 0.00),
('HD381', 2, '2025-01-14 14:05:41', 0.00),
('HD385', 1, '2025-01-18 12:45:25', 0.00),
('HD386', 2, '2025-01-19 14:55:36', 0.00),
('HD390', 1, '2025-01-23 15:35:20', 0.00),
('HD391', 2, '2025-01-24 08:45:31', 0.00),
('HD395', 1, '2025-01-28 16:25:15', 0.00),
('HD396', 2, '2025-01-29 08:35:26', 0.00),
('HD400', 1, '2025-02-02 16:15:10', 0.00),
('HD401', 2, '2025-02-03 08:25:21', 0.00),
('HD405', 1, '2025-02-07 09:05:05', 0.00),
('HD406', 2, '2025-02-08 11:15:16', 0.00),
('HD410', 1, '2025-02-12 10:55:00', 0.00),
('HD411', 2, '2025-02-13 12:05:11', 0.00),
('HD415', 1, '2025-02-17 10:45:55', 0.00),
('HD416', 2, '2025-02-18 12:55:06', 0.00),
('HD420', 1, '2025-02-22 10:35:50', 0.00),
('HD421', 2, '2025-02-23 12:45:01', 0.00),
('HD425', 1, '2025-02-27 13:25:15', 0.00),
('HD426', 2, '2025-02-28 15:35:26', 0.00),
('HD430', 1, '2025-03-04 14:15:10', 0.00),
('HD431', 2, '2025-03-05 16:25:21', 0.00),
('HD435', 1, '2025-03-09 14:05:05', 0.00),
('HD436', 2, '2025-03-10 16:15:16', 0.00),
('HD440', 1, '2025-03-14 14:55:00', 0.00),
('HD441', 2, '2025-03-15 09:05:11', 0.00),
('HD445', 1, '2025-03-19 08:45:55', 0.00),
('HD446', 2, '2025-03-20 10:55:06', 0.00),
('HD450', 1, '2025-03-24 08:35:50', 0.00),
('HD451', 2, '2025-03-25 10:45:01', 0.00),
('HD455', 1, '2025-03-29 08:25:45', 0.00),
('HD456', 2, '2025-03-30 10:35:56', 0.00),
('HD460', 1, '2025-04-03 11:15:40', 0.00),
('HD461', 2, '2025-04-04 13:25:51', 0.00),
('HD465', 1, '2025-04-08 12:05:35', 0.00),
('HD466', 2, '2025-04-09 14:15:46', 0.00),
('HD470', 1, '2025-04-13 12:55:30', 0.00),
('HD471', 2, '2025-04-14 14:05:41', 0.00),
('HD475', 1, '2025-04-18 12:45:25', 0.00),
('HD476', 2, '2025-04-19 14:55:36', 0.00),
('HD480', 1, '2025-04-23 15:35:20', 0.00),
('HD481', 2, '2025-04-24 08:45:31', 0.00),
('HD485', 1, '2025-04-28 16:25:15', 0.00),
('HD486', 2, '2025-04-29 08:35:26', 0.00),
('HD490', 1, '2025-05-03 16:15:10', 0.00),
('HD491', 2, '2025-05-04 08:25:21', 0.00),
('HD495', 1, '2025-05-08 09:05:05', 0.00),
('HD496', 2, '2025-05-09 11:15:16', 0.00),
('HD500', 1, '2025-05-13 10:55:00', 0.00),
('HD501', 1, '2025-05-06 10:34:18', 554000.00),
('HD502', 17, '2025-01-05 09:00:00', 15000.00),
('HD503', 18, '2025-01-10 10:30:00', 20000.00),
('HD504', 19, '2025-01-15 14:00:00', 18000.00),
('HD505', 20, '2025-02-01 11:15:00', 25000.00),
('HD506', 21, '2025-02-10 13:45:00', 30000.00),
('HD507', 22, '2025-02-15 09:30:00', 16000.00),
('HD508', 23, '2025-03-01 15:00:00', 22000.00),
('HD509', 24, '2025-03-10 10:00:00', 19000.00),
('HD510', 15, '2025-03-15 12:30:00', 27000.00),
('HD511', 16, '2025-04-01 14:15:00', 23000.00),
('HD512', 17, '2025-04-10 09:45:00', 15000.00),
('HD513', 18, '2025-04-15 11:00:00', 20000.00),
('HD514', 19, '2025-05-01 13:30:00', 18000.00),
('HD515', 20, '2025-05-05 10:15:00', 26000.00),
('HD516', 21, '2025-05-10 15:45:00', 31000.00),
('HD517', 22, '2025-05-15 09:00:00', 17000.00),
('HD518', 23, '2025-05-20 12:30:00', 24000.00),
('HD519', 24, '2025-05-25 14:00:00', 20000.00),
('HD520', 15, '2025-01-20 11:30:00', 22000.00),
('HD521', 16, '2025-02-05 13:00:00', 19000.00),
('HD522', 17, '2025-02-20 10:45:00', 25000.00),
('HD523', 18, '2025-03-05 15:15:00', 18000.00),
('HD524', 19, '2025-03-20 09:30:00', 23000.00),
('HD525', 20, '2025-04-05 12:00:00', 20000.00),
('HD526', 21, '2025-04-20 14:30:00', 27000.00),
('HD527', 22, '2025-05-05 10:00:00', 16000.00),
('HD528', 23, '2025-05-15 13:45:00', 24000.00),
('HD529', 24, '2025-05-20 11:15:00', 19000.00),
('HD530', 15, '2025-01-25 09:00:00', 25000.00),
('HD531', 16, '2025-02-15 14:30:00', 20000.00),
('HD532', 17, '2025-03-01 12:15:00', 23000.00),
('HD533', 18, '2025-03-15 10:45:00', 18000.00),
('HD534', 19, '2025-04-01 15:00:00', 26000.00),
('HD535', 20, '2025-04-15 09:30:00', 21000.00),
('HD536', 21, '2025-05-01 13:00:00', 24000.00),
('HD537', 22, '2025-05-10 11:45:00', 19000.00),
('HD538', 23, '2025-05-15 14:15:00', 25000.00),
('HD539', 24, '2025-05-20 10:00:00', 20000.00),
('HD540', 15, '2025-01-30 12:30:00', 23000.00),
('HD541', 16, '2025-02-25 09:15:00', 18000.00),
('HD542', 17, '2025-03-10 15:45:00', 26000.00),
('HD543', 18, '2025-04-05 11:00:00', 21000.00),
('HD544', 19, '2025-04-20 13:30:00', 24000.00),
('HD545', 20, '2025-05-05 10:15:00', 19000.00),
('HD546', 21, '2025-05-15 14:00:00', 25000.00),
('HD547', 22, '2025-05-20 09:45:00', 20000.00),
('HD548', 23, '2025-05-25 12:15:00', 23000.00),
('HD549', 24, '2025-05-30 15:30:00', 18000.00),
('HD550', 15, '2025-02-10 10:00:00', 24000.00),
('HD551', 16, '2025-03-20 13:45:00', 21000.00),
('HD552', 10, '2025-05-12 15:00:01', 206500.00),
('HD553', 10, '2025-05-12 15:16:02', 241000.00);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `returns`
--

CREATE TABLE `returns` (
  `MaHoaDon` varchar(10) NOT NULL,
  `MaSach` varchar(10) NOT NULL,
  `SoLuong` int(11) NOT NULL,
  `GiaDatCoc` decimal(10,2) NOT NULL,
  `NgayTra` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `returns`
--

INSERT INTO `returns` (`MaHoaDon`, `MaSach`, `SoLuong`, `GiaDatCoc`, `NgayTra`) VALUES
('HD007', 'S002', 3, 60000.00, '2025-05-03 20:48:18'),
('HD007', 'S008', 1, 100000.00, '2025-05-03 20:48:08'),
('HD008', 'S001', 1, 75000.00, '2025-05-04 09:19:20'),
('HD008', 'S006', 1, 45000.00, '2025-05-04 09:19:23'),
('HD008', 'S008', 1, 100000.00, '2025-05-03 20:57:11'),
('HD008', 'S017', 1, 60000.00, '2025-05-04 09:34:25'),
('HD009', 'S001', 1, 75000.00, '2025-05-04 09:34:32'),
('HD009', 'S008', 1, 100000.00, '2025-05-04 09:34:28'),
('HD010', 'S001', 1, 75000.00, '2025-05-04 09:34:33'),
('HD011', 'S008', 1, 100000.00, '2025-05-04 09:34:33'),
('HD012', 'S001', 1, 75000.00, '2025-05-04 09:34:35'),
('HD012', 'S006', 1, 45000.00, '2025-05-04 09:34:35'),
('HD012', 'S008', 2, 100000.00, '2025-05-04 09:34:33'),
('HD012', 'S015', 1, 85000.00, '2025-05-04 09:34:34'),
('HD013', 'S001', 2, 75000.00, '2025-05-04 09:34:36'),
('HD013', 'S008', 3, 100000.00, '2025-05-04 09:34:35'),
('HD013', 'S015', 2, 85000.00, '2025-05-04 09:34:36'),
('HD014', 'S001', 1, 75000.00, '2025-05-04 09:34:31'),
('HD015', 'S001', 1, 75000.00, '2025-05-04 09:34:36'),
('HD016', 'S001', 1, 75000.00, '2025-05-04 09:34:37'),
('HD017', 'S015', 1, 85000.00, '2025-05-04 09:34:37'),
('HD018', 'S008', 1, 100000.00, '2025-05-04 09:34:37'),
('HD019', 'S015', 1, 85000.00, '2025-05-04 09:34:37'),
('HD020', 'S015', 1, 85000.00, '2025-05-04 09:34:37'),
('HD022', 'S023', 2, 70000.00, '2025-05-04 09:34:37'),
('HD502', 'S041', 1, 90000.00, '2025-01-20 10:00:00'),
('HD503', 'S042', 1, 60000.00, '2025-01-25 11:30:00'),
('HD504', 'S043', 1, 130000.00, '2025-02-05 09:15:00'),
('HD505', 'S044', 1, 45000.00, '2025-02-10 14:00:00'),
('HD506', 'S045', 1, 30000.00, '2025-02-15 12:45:00'),
('HD507', 'S046', 1, 50000.00, '2025-03-01 10:30:00'),
('HD508', 'S047', 1, 100000.00, '2025-03-10 15:00:00'),
('HD509', 'S048', 1, 95000.00, '2025-03-15 09:45:00'),
('HD510', 'S049', 1, 110000.00, '2025-04-01 13:30:00'),
('HD511', 'S050', 1, 70000.00, '2025-04-10 11:15:00'),
('HD512', 'S051', 1, 75000.00, '2025-04-15 14:00:00'),
('HD513', 'S052', 1, 90000.00, '2025-05-01 10:45:00'),
('HD514', 'S053', 1, 40000.00, '2025-05-05 12:30:00'),
('HD515', 'S054', 1, 35000.00, '2025-05-10 09:15:00'),
('HD516', 'S055', 1, 100000.00, '2025-05-15 13:00:00'),
('HD517', 'S056', 1, 65000.00, '2025-05-20 11:45:00'),
('HD518', 'S057', 1, 120000.00, '2025-05-25 14:30:00'),
('HD519', 'S058', 1, 80000.00, '2025-01-15 10:00:00'),
('HD520', 'S059', 1, 75000.00, '2025-02-01 12:30:00'),
('HD521', 'S060', 1, 50000.00, '2025-02-10 09:45:00'),
('HD522', 'S001', 1, 0.00, '2025-02-15 14:00:00'),
('HD523', 'S002', 1, 0.00, '2025-03-01 11:15:00'),
('HD524', 'S003', 1, 125000.00, '2025-03-10 13:30:00'),
('HD525', 'S004', 1, 40000.00, '2025-03-15 10:00:00'),
('HD526', 'S005', 1, 30000.00, '2025-04-01 15:45:00'),
('HD527', 'S006', 1, 45000.00, '2025-04-10 09:30:00'),
('HD528', 'S007', 1, 50000.00, '2025-04-15 12:15:00'),
('HD529', 'S008', 1, 100000.00, '2025-05-01 14:00:00'),
('HD530', 'S009', 1, 90000.00, '2025-05-05 10:45:00'),
('HD531', 'S010', 1, 65000.00, '2025-05-10 13:30:00'),
('HD552', 'S015', 1, 85000.00, '2025-05-12 20:00:09');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `sach`
--

CREATE TABLE `sach` (
  `MaSach` varchar(10) NOT NULL,
  `TenSach` varchar(100) NOT NULL,
  `TheLoai` varchar(50) NOT NULL,
  `TenTacGia` varchar(100) NOT NULL,
  `hinhanh` varchar(255) DEFAULT NULL,
  `GiaThue` decimal(10,2) NOT NULL,
  `GiaDatCoc` decimal(10,2) NOT NULL,
  `GiaBan` decimal(10,2) DEFAULT NULL,
  `MoTa` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `sach`
--

INSERT INTO `sach` (`MaSach`, `TenSach`, `TheLoai`, `TenTacGia`, `hinhanh`, `GiaThue`, `GiaDatCoc`, `GiaBan`, `MoTa`) VALUES
('S001', 'Lập trình Python cơ bản', 'congnghe', 'Nguyễn Văn A', '../image/python_basics.png', 5000.00, 75000.00, 150000.00, 'Cuốn sách giới thiệu các khái niệm cơ bản về lập trình Python.'),
('S002', 'Toán cao cấp Tập 1', 'khoahoc', 'Trần Văn B', '../anh_sach/math_advanced_1.png', 3000.00, 60000.00, 120000.00, 'Sách giáo khoa về toán cao cấp cho sinh viên đại học.'),
('S003', 'Harry Potter và Hòn đá Phù thủy', 'vientuong', 'J.K. Rowling', '../anh_sach/harry_potter.png', 10000.00, 125000.00, 250000.00, 'Phần đầu tiên trong loạt truyện nổi tiếng về Harry Potter.'),
('S004', 'Nhật ký trong tù', 'tho', 'Hồ Chí Minh', '../anh_sach/nktt.png', 2000.00, 40000.00, 80000.00, 'Tập thơ nổi tiếng được viết trong thời gian bị giam cầm.'),
('S005', 'Dế Mèn phiêu lưu ký', 'thieunhi', 'Tô Hoài', '../anh_sach/demen.png', 1500.00, 30000.00, 60000.00, 'Câu chuyện phiêu lưu của chú dế mèn dành cho trẻ em.'),
('S006', 'Tắt đèn', 'vanhoc', 'Ngô Tất Tố', '../anh_sach/tatden.png', 2500.00, 45000.00, 90000.00, 'Tác phẩm phản ánh hiện thực xã hội Việt Nam trước cách mạng.'),
('S007', 'Số đỏ', 'vanhoc', 'Vũ Trọng Phụng', '../anh_sach/sodo.png', 3000.00, 50000.00, 100000.00, 'Tiểu thuyết châm biếm sâu sắc về xã hội Việt Nam thời kỳ đầu thế kỷ 20.'),
('S008', 'Clean Code', 'congnghe', 'Robert C. Martin', '../anh_sach/cleancode.png', 7000.00, 100000.00, 200000.00, 'Hướng dẫn viết mã nguồn sạch và dễ bảo trì.'),
('S009', '1984', 'vientuong', 'George Orwell', '../anh_sach/1984.png', 8000.00, 90000.00, 180000.00, 'Tiểu thuyết dystopia kinh điển về xã hội giám sát.'),
('S010', 'Tự học Excel', 'kynang', 'Lê Thị C', '../anh_sach/excel.png', 4000.00, 65000.00, 130000.00, 'Hướng dẫn tự học Excel từ cơ bản đến nâng cao.'),
('S011', 'Đắc nhân tâm', 'kynang', 'Dale Carnegie', '../anh_sach/dacnhantam.png', 3500.00, 55000.00, 110000.00, 'Cuốn sách nổi tiếng về nghệ thuật giao tiếp và thuyết phục.'),
('S012', 'Bí mật tư duy triệu phú', 'kinhdoanh', 'T. Harv Eker', '../anh_sach/milionaire.png', 4500.00, 70000.00, 140000.00, 'Khám phá cách tư duy của những người giàu có.'),
('S013', 'Truyện Kiều', 'tho', 'Nguyễn Du', '../anh_sach/truyenkieu.png', 2000.00, 37500.00, 75000.00, 'Tác phẩm thơ kinh điển của văn học Việt Nam.'),
('S014', 'Cây khế nhà tôi', 'thieunhi', 'Trần Đăng Khoa', '../anh_sach/cay_khe.png', 1500.00, 25000.00, 50000.00, 'Tập thơ dành cho thiếu nhi với ngôn ngữ trong sáng.'),
('S015', 'Học lập trình Java', 'congnghe', 'Phạm Văn D', '../anh_sach/java.png', 6000.00, 85000.00, 170000.00, 'Sách học lập trình Java từ cơ bản đến nâng cao.'),
('S016', 'Nhật ký Đặng Thùy Trâm', 'hoiky', 'Đặng Thùy Trâm', '../anh_sach/dangthuytram.png', 3000.00, 47500.00, 95000.00, 'Hồi ký cảm động của nữ bác sĩ trong chiến tranh.'),
('S017', 'Tôi thấy hoa vàng trên cỏ xanh', 'vanhoc', 'Nguyễn Nhật Ánh', '../anh_sach/toithay.png', 3500.00, 60000.00, 120000.00, 'Tiểu thuyết tuổi thơ đầy cảm xúc.'),
('S018', 'Atomic Habits', 'kynang', 'James Clear', '../anh_sach/atomic.png', 5000.00, 80000.00, 160000.00, 'Hướng dẫn xây dựng thói quen tốt để thành công.'),
('S019', 'Lịch sử Việt Nam', 'lichsu', 'Đào Duy Anh', '../anh_sach/lsvn.png', 4000.00, 65000.00, 130000.00, 'Tổng quan về lịch sử Việt Nam qua các thời kỳ.'),
('S020', 'Doraemon Tập 1', 'truyentranh', 'Fujiko F. Fujio', '../anh_sach/drm1.png', 2000.00, 35000.00, 70000.00, 'Phần đầu tiên của bộ truyện tranh nổi tiếng Doraemon.'),
('S021', 'Học máy cơ bản', 'congnghe', 'Trần Quốc E', '../anh_sach/machine_learning.png', 6500.00, 90000.00, 180000.00, 'Giới thiệu các khái niệm cơ bản về học máy và ứng dụng.'),
('S022', 'Vật lý đại cương', 'khoahoc', 'Nguyễn Văn F', '../anh_sach/physics.png', 3500.00, 55000.00, 110000.00, 'Sách giáo khoa vật lý dành cho sinh viên đại học.'),
('S023', 'Bố già', 'vanhoc', 'Mario Puzo', '../anh_sach/godfather.png', 4500.00, 70000.00, 140000.00, 'Tiểu thuyết nổi tiếng về thế giới mafia.'),
('S024', 'Truyện ngắn Nam Cao', 'vanhoc', 'Nam Cao', '../anh_sach/namcao.png', 2500.00, 42500.00, 85000.00, 'Tuyển tập truyện ngắn đặc sắc của nhà văn Nam Cao.'),
('S025', 'Bé tập vẽ', 'thieunhi', 'Lê Thị G', '../anh_sach/betapve.png', 1000.00, 22500.00, 45000.00, 'Sách hướng dẫn vẽ cơ bản dành cho trẻ em.'),
('S026', 'Thiết kế UI/UX', 'congnghe', 'Phạm Văn H', '../anh_sach/uiux.png', 7000.00, 95000.00, 190000.00, 'Hướng dẫn thiết kế giao diện người dùng và trải nghiệm.'),
('S027', 'Kafka bên bờ biển', 'vientuong', 'Haruki Murakami', '../anh_sach/kafka.png', 6000.00, 85000.00, 170000.00, 'Tiểu thuyết kỳ ảo nổi tiếng của Murakami.'),
('S028', 'Tư duy nhanh và chậm', 'kynang', 'Daniel Kahneman', '../anh_sach/thinking.png', 5000.00, 75000.00, 150000.00, 'Phân tích cách con người đưa ra quyết định.'),
('S029', 'Lịch sử thế giới', 'lichsu', 'Nguyễn Thị I', '../anh_sach/world_history.png', 4000.00, 67500.00, 135000.00, 'Tổng hợp lịch sử thế giới qua các thời kỳ.'),
('S030', 'Dragon Ball Tập 1', 'truyentranh', 'Akira Toriyama', '../anh_sach/dragonball.png', 2500.00, 40000.00, 80000.00, 'Phần đầu tiên của bộ truyện tranh Dragon Ball.'),
('S031', 'Lập trình C++ nâng cao', 'congnghe', 'Hoàng Văn K', '../anh_sach/cpp.png', 6000.00, 87500.00, 175000.00, 'Sách học lập trình C++ chuyên sâu.'),
('S032', 'Chuyện con mèo dạy hải âu bay', 'thieunhi', 'Luis Sepúlveda', '../anh_sach/meo_hai_au.png', 2000.00, 32500.00, 65000.00, 'Câu chuyện cảm động về tình bạn và trách nhiệm.'),
('S033', 'Nhà giả kim', 'vientuong', 'Paulo Coelho', '../anh_sach/alchemist.png', 4000.00, 65000.00, 130000.00, 'Hành trình khám phá bản thân đầy ý nghĩa.'),
('S034', 'Kinh tế học cơ bản', 'kinhdoanh', 'Nguyễn Văn L', '../anh_sach/economics.png', 4500.00, 72500.00, 145000.00, 'Giới thiệu các khái niệm cơ bản về kinh tế học.'),
('S035', 'Hồi ký Võ Nguyên Giáp', 'hoiky', 'Võ Nguyên Giáp', '../anh_sach/vo_nguyen_giap.png', 3500.00, 57500.00, 115000.00, 'Hồi ký của vị tướng tài ba trong lịch sử Việt Nam.'),
('S036', 'Học deep learning', 'congnghe', 'Trần Văn M', '../anh_sach/deep_learning.png', 7500.00, 100000.00, 200000.00, 'Sách chuyên sâu về học sâu và trí tuệ nhân tạo.'),
('S037', 'Chim sẻ dưới mái hiên', 'vanhoc', 'Nguyễn Nhật Ánh', '../anh_sach/chimse.png', 3000.00, 50000.00, 100000.00, 'Tác phẩm tuổi thơ nhẹ nhàng và sâu lắng.'),
('S038', 'Naruto Tập 1', 'truyentranh', 'Masashi Kishimoto', '../anh_sach/naruto.png', 2500.00, 37500.00, 75000.00, 'Phần đầu tiên của bộ truyện tranh Naruto nổi tiếng.'),
('S039', 'Hóa học hữu cơ', 'khoahoc', 'Lê Văn N', '../anh_sach/organic_chem.png', 3500.00, 62500.00, 125000.00, 'Sách giáo khoa hóa học hữu cơ cho sinh viên.'),
('S040', 'Bí mật của sự giàu có', 'kinhdoanh', 'Napoleon Hill', '../anh_sach/wealth.png', 5000.00, 80000.00, 160000.00, 'Khám phá tư duy làm giàu từ tác giả nổi tiếng.'),
('S041', 'Lập trình Web với PHP', 'congnghe', 'Trần Văn H', '../anh_sach/php_web.png', 6000.00, 90000.00, 180000.00, 'Hướng dẫn lập trình web bằng PHP.'),
('S042', 'Hóa học đại cương', 'khoahoc', 'Nguyễn Thị I', '../anh_sach/general_chem.png', 3500.00, 60000.00, 120000.00, 'Sách giáo khoa hóa học đại cương.'),
('S043', 'Harry Potter và Phòng chứa Bí mật', 'vientuong', 'J.K. Rowling', '../anh_sach/hp_chamber.png', 10000.00, 130000.00, 260000.00, 'Phần thứ hai của loạt Harry Potter.'),
('S044', 'Đường Kách Mệnh', 'hoiky', 'Hồ Chí Minh', '../anh_sach/duongkm.png', 2500.00, 45000.00, 90000.00, 'Tác phẩm chính luận nổi tiếng.'),
('S045', 'Cậu bé Mít Đặc', 'thieunhi', 'Tô Hoài', '../anh_sach/mitdac.png', 1500.00, 30000.00, 60000.00, 'Câu chuyện vui nhộn dành cho trẻ em.'),
('S046', 'Chí Phèo', 'vanhoc', 'Nam Cao', '../anh_sach/chipheo.png', 3000.00, 50000.00, 100000.00, 'Tác phẩm kinh điển về xã hội Việt Nam.'),
('S047', 'Sapiens', 'khoahoc', 'Yuval Noah Harari', '../anh_sach/sapiens.png', 7000.00, 100000.00, 200000.00, 'Lịch sử loài người từ thời tiền sử.'),
('S048', 'Học lập trình C#', 'congnghe', 'Phạm Văn K', '../anh_sach/csharp.png', 6500.00, 95000.00, 190000.00, 'Sách học lập trình C# từ cơ bản.'),
('S049', 'Dune', 'vientuong', 'Frank Herbert', '../anh_sach/dune.png', 8000.00, 110000.00, 220000.00, 'Tiểu thuyết khoa học viễn tưởng nổi tiếng.'),
('S050', 'Tự học PowerPoint', 'kynang', 'Lê Thị L', '../anh_sach/powerpoint.png', 4000.00, 70000.00, 140000.00, 'Hướng dẫn tự học PowerPoint.'),
('S051', 'Nghệ thuật giao tiếp', 'kynang', 'Leil Lowndes', '../anh_sach/communication.png', 4500.00, 75000.00, 150000.00, 'Cuốn sách về kỹ năng giao tiếp hiệu quả.'),
('S052', 'Chiến lược kinh doanh', 'kinhdoanh', 'Michael Porter', '../anh_sach/business.png', 6000.00, 90000.00, 180000.00, 'Hướng dẫn chiến lược kinh doanh.'),
('S053', 'Lục Vân Tiên', 'tho', 'Nguyễn Đình Chiểu', '../anh_sach/lucvantien.png', 2000.00, 40000.00, 80000.00, 'Tác phẩm thơ ca truyền thống Việt Nam.'),
('S054', 'Con mèo đi học', 'thieunhi', 'Nguyễn Nhật Ánh', '../anh_sach/cat_school.png', 1500.00, 35000.00, 70000.00, 'Câu chuyện thiếu nhi vui nhộn.'),
('S055', 'Học lập trình Go', 'congnghe', 'Trần Quốc M', '../anh_sach/golang.png', 7000.00, 100000.00, 200000.00, 'Sách học lập trình ngôn ngữ Go.'),
('S056', 'Sinh học đại cương', 'khoahoc', 'Nguyễn Văn N', '../anh_sach/biology.png', 4000.00, 65000.00, 130000.00, 'Sách giáo khoa sinh học đại cương.'),
('S057', 'The Hobbit', 'vientuong', 'J.R.R. Tolkien', '../anh_sach/hobbit.png', 9000.00, 120000.00, 240000.00, 'Tiền truyện của Chúa tể của những chiếc nhẫn.'),
('S058', 'Kỹ năng quản lý thời gian', 'kynang', 'Brian Tracy', '../anh_sach/time_management.png', 5000.00, 80000.00, 160000.00, 'Hướng dẫn quản lý thời gian hiệu quả.'),
('S059', 'Lịch sử Trung Quốc', 'lichsu', 'Trần Thị O', '../anh_sach/china_history.png', 4500.00, 75000.00, 150000.00, 'Tổng quan lịch sử Trung Quốc.'),
('S060', 'One Piece Tập 1', 'truyentranh', 'Eiichiro Oda', '../anh_sach/onepiece.png', 3000.00, 50000.00, 100000.00, 'Phần đầu tiên của bộ truyện One Piece.');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `users`
--

CREATE TABLE `users` (
  `userID` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(255) NOT NULL,
  `email` varchar(100) NOT NULL,
  `phone` varchar(15) NOT NULL,
  `role` varchar(20) NOT NULL,
  `CreatedAt` date NOT NULL,
  `UpdatedAt` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `users`
--

INSERT INTO `users` (`userID`, `username`, `password`, `email`, `phone`, `role`, `CreatedAt`, `UpdatedAt`) VALUES
(1, 'thetu', '12345', 'admin01@example.com', '0912345678', '1', '2025-05-02', NULL),
(2, 'user01', '123456', 'user01@example.com', '0987654321', '2', '2025-05-02', NULL),
(10, 'tute', '12345', 'gues3t@example.com', '125555', '3', '2025-05-06', NULL),
(13, 'librarian01', '123456', 'librarian01@example.com', '0909123456', '3', '2025-05-06', '2025-05-07'),
(15, 'admin02', 'password123', 'admin02@example.com', '0912345679', '1', '2025-01-05', NULL),
(16, 'librarian02', 'pass456', 'librarian02@example.com', '0987654322', '3', '2025-01-10', '2025-02-15'),
(17, 'user02', 'userpass', 'user02@example.com', '0911112222', '2', '2025-01-15', NULL),
(18, 'guest04', 'guest123', 'guest04@example.com', '0909876543', '2', '2025-02-01', NULL),
(19, 'member01', 'member456', 'member01@example.com', '0933334444', '2', '2025-02-10', '2025-03-20'),
(20, 'admin03', 'admin789', 'admin03@example.com', '0922223333', '1', '2025-03-01', NULL),
(21, 'librarian03', 'libpass', 'librarian03@example.com', '0977778888', '3', '2025-03-15', NULL),
(22, 'user03', 'user789', 'user03@example.com', '0944445555', '2', '2025-04-01', NULL),
(23, 'guest05', 'guest789', 'guest05@example.com', '0966667777', '2', '2025-04-10', NULL),
(24, 'member02', 'mempass', 'member02@example.com', '0955556666', '2', '2025-05-01', NULL);

--
-- Chỉ mục cho các bảng đã đổ
--

--
-- Chỉ mục cho bảng `chitiethoadon`
--
ALTER TABLE `chitiethoadon`
  ADD PRIMARY KEY (`MaHoaDon`,`TenSach`),
  ADD KEY `fk_chitiethoadon_user` (`userID`);

--
-- Chỉ mục cho bảng `hoadon`
--
ALTER TABLE `hoadon`
  ADD PRIMARY KEY (`MaHoaDon`),
  ADD KEY `fk_hoadon_user` (`userID`);

--
-- Chỉ mục cho bảng `returns`
--
ALTER TABLE `returns`
  ADD PRIMARY KEY (`MaHoaDon`,`MaSach`);

--
-- Chỉ mục cho bảng `sach`
--
ALTER TABLE `sach`
  ADD PRIMARY KEY (`MaSach`);

--
-- Chỉ mục cho bảng `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`userID`),
  ADD UNIQUE KEY `Username` (`username`),
  ADD UNIQUE KEY `Email` (`email`);

--
-- AUTO_INCREMENT cho các bảng đã đổ
--

--
-- AUTO_INCREMENT cho bảng `users`
--
ALTER TABLE `users`
  MODIFY `userID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=25;

--
-- Các ràng buộc cho các bảng đã đổ
--

--
-- Các ràng buộc cho bảng `chitiethoadon`
--
ALTER TABLE `chitiethoadon`
  ADD CONSTRAINT `chitiethoadon_ibfk_1` FOREIGN KEY (`MaHoaDon`) REFERENCES `hoadon` (`MaHoaDon`) ON DELETE CASCADE,
  ADD CONSTRAINT `fk_chitiethoadon_user` FOREIGN KEY (`userID`) REFERENCES `users` (`userID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Các ràng buộc cho bảng `hoadon`
--
ALTER TABLE `hoadon`
  ADD CONSTRAINT `fk_hoadon_user` FOREIGN KEY (`userID`) REFERENCES `users` (`userID`) ON UPDATE CASCADE;

--
-- Các ràng buộc cho bảng `returns`
--
ALTER TABLE `returns`
  ADD CONSTRAINT `returns_ibfk_1` FOREIGN KEY (`MaHoaDon`) REFERENCES `hoadon` (`MaHoaDon`) ON DELETE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
